{"version":3,"sources":["components/InputBox.jsx","components/OutputBox.jsx","App.jsx","index.js"],"names":["InputBox","props","data","convert","handleCurrencyChange","amount","setAmount","style","display","justifyContent","alignItems","borderTopLeftRadius","borderTopRightRadius","width","overflow","TextField","id","label","color","size","type","value","onChange","e","target","marginTop","fontSize","Select","defaultValue","current","map","curr","i","MenuItem","Cur_Abbreviation","Date","getTime","OutputBox","convertedAmount","toCurrency","URL","App","useState","currencyData","setCurrencyData","setToCurrency","setConvertedAmount","useEffect","localStorage","getItem","currentDate","now","moment","isBefore","getCompleteCurrData","JSON","parse","useRef","a","fetch","response","json","setItem","stringify","className","val","amountToConvert","find","Cur_Scale","Cur_OfficialRate","toFixed","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.eccd7c62.chunk.js","sourcesContent":["import { TextField, Select, MenuItem } from '@material-ui/core';\n\nfunction InputBox(props) {\n    const {\n        data,\n        convert,\n        handleCurrencyChange,\n        amount,\n        setAmount\n    } = props;\n\n    const inputBoxStyles = {\n        display: 'flex',\n        justifyContent: 'space-between',\n        alignItems: 'center',\n        borderTopLeftRadius: '10px',\n        borderTopRightRadius: '10px',\n        width: '100%',\n        overflow: 'scroll',\n    };\n\n    const arrowStyles = {\n        marginTop: '15px',\n        fontSize: '1.5rem',\n    };\n\n    const selectStyles = {\n        marginTop: '15px',\n    };\n\n    return (\n        <div>\n            <div style={inputBoxStyles}>\n                <TextField id=\"filled-basic\"\n                           label=\"BYN\"\n                           color=\"primary\"\n                           size=\"medium\"\n                           type=\"text\"\n                           value={amount}\n                           onChange={ e => {\n                               setAmount(+e.target.value)\n                               convert(+e.target.value)\n                           } }\n                />\n                <span style={arrowStyles}>â†’</span>\n                <Select\n                    style={selectStyles}\n                    defaultValue={'USD'}\n                    onChange={ e => {\n                            handleCurrencyChange(e.target.value)\n                        }\n                    }\n                >\n                    {data.current && data.current.map((curr, i) => (\n                            <MenuItem\n                                key={`${new Date().getTime()}-${i}` }\n                                value={curr.Cur_Abbreviation}\n                            >{curr.Cur_Abbreviation}\n                            </MenuItem>\n                        ))\n                    }\n                </Select>\n            </div>\n        </div>\n    )\n}\n\nexport default InputBox;\n","function OutputBox(props) {\n\n    const outputBoxStyles = {\n        display: 'flex',\n        justifyContent: 'center',\n        alignItems: 'center',\n        width: '100%',\n        marginTop: '25px',\n        overflow: 'scroll',\n    };\n\n    const outputTextStyles = {\n        fontSize: '3rem',\n    }\n\n    const {\n        convertedAmount,\n        toCurrency,\n    } = props;\n\n    return (\n        <div style={outputBoxStyles}>\n            <span style={outputTextStyles}>{ convertedAmount } { toCurrency }</span>\n        </div>\n    )\n}\n\nexport default OutputBox;\n","import React, { useEffect, useState, useRef } from 'react';\nimport moment from 'moment';\n\nimport './App.css';\n\nimport InputBox from \"./components/InputBox\";\nimport OutputBox from \"./components/OutputBox\";\n\nconst URL = 'https://www.nbrb.by/api/exrates/rates?periodicity=0';\n\nfunction App() {\n\n    let [currencyData, setCurrencyData] = useState([]);\n    let [toCurrency, setToCurrency] = useState('USD');\n    let [amount, setAmount] = useState('');\n    let [convertedAmount, setConvertedAmount] = useState(0);\n\n    useEffect(() => {\n        if (localStorage.getItem('currency')) {\n            const currentDate = new Date(Date.now())\n\n            if (moment().isBefore(currentDate, 'day') === false) {\n                getCompleteCurrData();\n            }\n        }\n    }, []);\n\n    useEffect(() => {\n        if (localStorage.getItem('currency')) {\n            setCurrencyData(JSON.parse(localStorage.getItem('currency')))\n        } else {\n            getCompleteCurrData();\n        }\n    }, []);\n\n    const data = useRef();\n    data.current = currencyData;\n\n    async function getCompleteCurrData() {\n        const response = await fetch(URL);\n        const data = await response.json();\n        localStorage.setItem('currency', JSON.stringify(data))\n        setCurrencyData(data)\n    }\n\n    const handleCurrencyChange = (val) => {\n        setToCurrency(val)\n        setAmount('')\n        setConvertedAmount(0)\n    };\n\n    function convert(amountToConvert = amount) {\n        let curr = data.find(curr => curr.Cur_Abbreviation === toCurrency)\n        const convertedAmount = (amountToConvert * curr.Cur_Scale / curr.Cur_OfficialRate).toFixed(2)\n        setConvertedAmount(+convertedAmount)\n    }\n\n    return (\n        <div className=\"wrap\">\n            <h1 style={ {color: '#877e87'} }>Currency Converter</h1>\n            <div className=\"App\">\n\n                {currencyData ?\n                    <>\n                    <InputBox\n                        data={data}\n                        amount={amount}\n                        setAmount={setAmount}\n                        handleCurrencyChange={handleCurrencyChange}\n                        convert={convert}\n                    />\n                    <OutputBox\n                        convertedAmount={convertedAmount}\n                        toCurrency={toCurrency}\n                    />\n                    </>\n                : null\n                }\n            </div>\n        </div>\n    );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n    <App />,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}