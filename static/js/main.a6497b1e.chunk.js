(this.webpackJsonpuntitled=this.webpackJsonpuntitled||[]).push([[0],{59:function(e,t,n){},61:function(e,t,n){},62:function(e,t,n){},67:function(e,t,n){},68:function(e,t,n){"use strict";n.r(t);var c=n(0),r=n(7),a=n.n(r),i=(n(59),n(31)),u=n(41),o=n.n(u),s=n(102),l=(n(61),n(62),n(104)),d=n(103),b=n(106),j=n(9);var f=function(e){var t=e.currencyData,n=e.handleAmountChange,c=e.handleCurrencyChange;return Object(j.jsx)("div",{children:Object(j.jsxs)("div",{className:"input-box",children:[Object(j.jsx)(l.a,{id:"filled-basic",label:"Amount to convert",color:"primary",size:"medium",type:"text",onChange:n}),Object(j.jsx)(d.a,{className:"select",labelId:"demo-simple-select-label",id:"demo-simple-select",defaultValue:"USD",onChange:c,children:t.map((function(e){return Object(j.jsx)(b.a,{value:e.code,children:e.code},e.code)}))})]})})};n(67);var h=function(e){var t=e.convertedAmount;return Object(j.jsx)("div",{children:Object(j.jsx)("div",{className:"output-box",children:Object(j.jsxs)("span",{className:"output-text",children:[t," BYN"]})})})};var v=function(){var e=Object(c.useState)([]),t=Object(i.a)(e,2),n=t[0],r=t[1],a=Object(c.useState)("USD"),u=Object(i.a)(a,2),l=u[0],d=u[1],b=Object(c.useState)(0),v=Object(i.a)(b,2),O=v[0],m=v[1],p=Object(c.useState)(0),x=Object(i.a)(p,2),C=x[0],g=x[1];return Object(c.useEffect)((function(){if(localStorage.getItem("currency")){var e=new Date(Date.now());if(!1===o()().isBefore(e,"day"))return}fetch("https://www.nbrb.by/api/exrates/rates?periodicity=0").then((function(e){return e.json()})).then((function(e){return localStorage.setItem("currency",JSON.stringify(e))}))}),[]),Object(c.useEffect)((function(){r(function(){var e=JSON.parse(localStorage.getItem("currency")),t=[];return e.forEach((function(e){if("USD"===e.Cur_Abbreviation||"EUR"===e.Cur_Abbreviation||"RUB"===e.Cur_Abbreviation){var n=e.Cur_Abbreviation,c=e.Cur_OfficialRate,r=e.Cur_Scale;t.push({code:n,rate:c,scale:r})}})),console.log(t),t}())}),[]),Object(j.jsxs)("div",{className:"wrap",children:[Object(j.jsx)("h1",{children:"Currency Converter"}),Object(j.jsxs)("div",{className:"App",children:[Object(j.jsx)(f,{class:"upper",currencyData:n,handleCurrencyChange:function(e){d(e.target.value),g(0)},handleAmountChange:function(e){return function(e){return m(+e.target.value)}(e)}}),Object(j.jsx)(s.a,{className:"btn",variant:"contained",onClick:function(){var e=n.find((function(e){return e.code===l})),t=(O*e.rate*e.scale).toFixed(2);g(+t)},children:"Convert"}),Object(j.jsx)(h,{currencyData:n,convertedAmount:C})]})]})};a.a.render(Object(j.jsx)(v,{}),document.getElementById("root"))}},[[68,1,2]]]);
//# sourceMappingURL=main.a6497b1e.chunk.js.map