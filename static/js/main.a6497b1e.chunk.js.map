{"version":3,"sources":["components/InputBox.jsx","components/OutputBox.jsx","App.js","index.js"],"names":["InputBox","props","currencyData","handleAmountChange","handleCurrencyChange","className","TextField","id","label","color","size","type","onChange","Select","labelId","defaultValue","map","curr","MenuItem","value","code","OutputBox","convertedAmount","App","useState","setCurrencyData","toCurrency","setToCurrency","amount","setAmount","setConvertedAmount","useEffect","localStorage","getItem","currentDate","Date","now","moment","isBefore","fetch","then","response","json","data","setItem","JSON","stringify","parse","filteredData","forEach","Cur_Abbreviation","Cur_OfficialRate","Cur_Scale","push","rate","scale","console","log","filterData","class","e","target","Button","variant","onClick","find","toFixed","ReactDOM","render","document","getElementById"],"mappings":"qTAsCeA,MAnCf,SAAkBC,GAAQ,IAElBC,EAGAD,EAHAC,aACAC,EAEAF,EAFAE,mBACAC,EACAH,EADAG,qBAGJ,OACI,8BACI,sBAAKC,UAAW,YAAhB,UACI,cAACC,EAAA,EAAD,CAAWC,GAAG,eACHC,MAAM,oBACNC,MAAM,UACNC,KAAK,SACLC,KAAK,OACLC,SAAWT,IAEtB,cAACU,EAAA,EAAD,CACIR,UAAU,SACVS,QAAQ,2BACRP,GAAG,qBACHQ,aAAc,MACdH,SAAWR,EALf,SAQQF,EAAac,KAAI,SAAAC,GAAI,OACjB,cAACC,EAAA,EAAD,CAA0BC,MAAOF,EAAKG,KAAtC,SAA6CH,EAAKG,MAAnCH,EAAKG,iB,MCZjCC,MAff,SAAmBpB,GAAQ,IAGnBqB,EACArB,EADAqB,gBAGJ,OACI,8BACI,qBAAKjB,UAAW,aAAhB,SACI,uBAAMA,UAAW,cAAjB,UAAkCiB,EAAlC,eCyFDC,MA3Ff,WAAgB,IAAD,EAE2BC,mBAAS,IAFpC,mBAENtB,EAFM,KAEQuB,EAFR,OAGuBD,mBAAS,OAHhC,mBAGNE,EAHM,KAGMC,EAHN,OAIeH,mBAAS,GAJxB,mBAINI,EAJM,KAIEC,EAJF,OAKiCL,mBAAS,GAL1C,mBAKNF,EALM,KAKWQ,EALX,KAgEX,OAzDAC,qBAAU,WAEN,GAAIC,aAAaC,QAAQ,YAAa,CAClC,IAAMC,EAAc,IAAIC,KAAKA,KAAKC,OAElC,IAA8C,IAA1CC,MAASC,SAASJ,EAAa,OAC/B,OAIRK,MAnBI,uDAoBCC,MAAK,SAAAC,GAAQ,OAAIA,EAASC,UAC1BF,MAAK,SAAAG,GAAI,OAAIX,aAAaY,QAAQ,WAAYC,KAAKC,UAAUH,SACnE,IA2BHZ,qBAAU,WACNN,EA1BJ,WACI,IAAIkB,EAAOE,KAAKE,MAAMf,aAAaC,QAAQ,aACvCe,EAAe,GAoBnB,OAlBAL,EAAKM,SAAQ,SAAChC,GACV,GAA8B,QAA1BA,EAAKiC,kBAEqB,QAA1BjC,EAAKiC,kBAEqB,QAA1BjC,EAAKiC,iBAA4B,CAAC,IAC5BA,EAAkDjC,EAAlDiC,iBAAkBC,EAAgClC,EAAhCkC,iBAAkBC,EAAcnC,EAAdmC,UAE1CJ,EAAaK,KACT,CACIjC,KAAM8B,EACNI,KAAMH,EACNI,MAAOH,QAKvBI,QAAQC,IAAIT,GACLA,EAISU,MACjB,IAgBC,sBAAKrD,UAAU,OAAf,UACI,oDACA,sBAAKA,UAAU,MAAf,UACI,cAAC,EAAD,CACIsD,MAAO,QACPzD,aAAeA,EACfE,qBApBa,SAAAwD,GACzBjC,EAAciC,EAAEC,OAAO1C,OACvBW,EAAmB,IAmBP3B,mBAAqB,SAAAyD,GAAC,OAhBX,SAAAA,GAAC,OAAI/B,GAAW+B,EAAEC,OAAO1C,OAgBVhB,CAAmByD,MAGjD,cAACE,EAAA,EAAD,CACIzD,UAAU,MACV0D,QAAQ,YACRC,QApBhB,WACI,IAAI/C,EAAOf,EAAa+D,MAAK,SAAAhD,GAAI,OAAIA,EAAKG,OAASM,KAC7CJ,GAAmBM,EAASX,EAAKqC,KAAOrC,EAAKsC,OAAOW,QAAQ,GAClEpC,GAAoBR,IAcZ,qBAOA,cAAC,EAAD,CACIpB,aAAeA,EACfoB,gBAAkBA,WCxFtC6C,IAASC,OACL,cAAC,EAAD,IACFC,SAASC,eAAe,W","file":"static/js/main.a6497b1e.chunk.js","sourcesContent":["import './InputBox.css';\nimport { TextField, Select, MenuItem } from '@material-ui/core';\n\nfunction InputBox(props) {\n    const {\n        currencyData,\n        handleAmountChange,\n        handleCurrencyChange,\n    } = props;\n\n    return (\n        <div>\n            <div className={'input-box'}>\n                <TextField id=\"filled-basic\"\n                           label=\"Amount to convert\"\n                           color=\"primary\"\n                           size=\"medium\"\n                           type=\"text\"\n                           onChange={ handleAmountChange }\n                />\n                <Select\n                    className=\"select\"\n                    labelId=\"demo-simple-select-label\"\n                    id=\"demo-simple-select\"\n                    defaultValue={'USD'}\n                    onChange={ handleCurrencyChange }\n                >\n                    {\n                        currencyData.map(curr => (\n                            <MenuItem key={curr.code} value={curr.code}>{curr.code}</MenuItem>\n                        ))\n                    }\n                </Select>\n            </div>\n        </div>\n    )\n}\n\nexport default InputBox\n","import './OutputBox.css';\n\nfunction OutputBox(props) {\n\n    const {\n        convertedAmount,\n    } = props;\n\n    return (\n        <div>\n            <div className={'output-box'}>\n                <span className={'output-text'}>{ convertedAmount } BYN</span>\n            </div>\n        </div>\n    )\n}\n\nexport default OutputBox\n","import React, { useEffect, useState } from 'react';\nimport moment from 'moment'\nimport { Button } from '@material-ui/core';\nimport './App.css';\nimport InputBox from \"./components/InputBox\";\nimport OutputBox from \"./components/OutputBox\";\n\nconst URL = 'https://www.nbrb.by/api/exrates/rates?periodicity=0';\n\nfunction App() {\n\n    let [currencyData, setCurrencyData] = useState([]);\n    let [toCurrency, setToCurrency] = useState('USD');\n    let [amount, setAmount] = useState(0);\n    let [convertedAmount, setConvertedAmount] = useState(0);\n\n    useEffect(() => {\n\n        if (localStorage.getItem('currency')) {\n            const currentDate = new Date(Date.now())\n\n            if (moment().isBefore(currentDate, 'day') === false) {\n                return\n            }\n        }\n\n        fetch(URL)\n            .then(response => response.json())\n            .then(data => localStorage.setItem('currency', JSON.stringify(data)))\n    }, []);\n\n    function filterData() {\n        let data = JSON.parse(localStorage.getItem('currency'))\n        let filteredData = []\n\n        data.forEach((curr) => {\n            if (curr.Cur_Abbreviation === 'USD'\n                ||\n                curr.Cur_Abbreviation === 'EUR'\n                ||\n                curr.Cur_Abbreviation === 'RUB') {\n                let { Cur_Abbreviation, Cur_OfficialRate, Cur_Scale } = curr\n\n                filteredData.push(\n                    {\n                        code: Cur_Abbreviation,\n                        rate: Cur_OfficialRate,\n                        scale: Cur_Scale,\n                    }\n                )\n            }\n        })\n        console.log(filteredData)\n        return filteredData\n    }\n\n    useEffect(() => {\n        setCurrencyData(filterData())\n    }, [])\n\n    const handleCurrencyChange = e => {\n        setToCurrency(e.target.value)\n        setConvertedAmount(0)\n    }\n\n    const handleAmountChange = e => setAmount(+e.target.value)\n\n    function convert() {\n        let curr = currencyData.find(curr => curr.code === toCurrency)\n        const convertedAmount = (amount * curr.rate * curr.scale).toFixed(2)\n        setConvertedAmount(+convertedAmount)\n    }\n\n    return (\n        <div className=\"wrap\">\n            <h1>Currency Converter</h1>\n            <div className=\"App\">\n                <InputBox\n                    class={'upper'}\n                    currencyData={ currencyData }\n                    handleCurrencyChange={ handleCurrencyChange }\n                    handleAmountChange={ e => handleAmountChange(e) }\n                />\n\n                <Button\n                    className=\"btn\"\n                    variant=\"contained\"\n                    onClick={ convert }\n                >Convert\n                </Button>\n\n                <OutputBox\n                    currencyData={ currencyData }\n                    convertedAmount={ convertedAmount }\n                />\n            </div>\n        </div>\n    );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n    <App />,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}